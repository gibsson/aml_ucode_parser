commit da65f980ac37b11a36f8bd81817b8df7cfa249e3
Author: Rui Wang <rui.wang@amlogic.com>
Date:   Mon May 13 12:08:53 2019 +0800

    dvb: test with ts stream with large pts value [1/1]
    
    PD#TV-5775
    
    Problem:
    get a 33bit value error
    
    Solution:
    Fix access to the correct register
    
    Verify:
    Verify android p at x301
    
    Change-Id: I99acfe1a931b616d9c43d55324fe27a0ebc0de5d
    Signed-off-by: Rui Wang <rui.wang@amlogic.com>

diff --git a/drivers/stream_input/parser/hw_demux/aml_dmx.c b/drivers/stream_input/parser/hw_demux/aml_dmx.c
index 3b2b9a7..7eb3a61 100644
--- a/drivers/stream_input/parser/hw_demux/aml_dmx.c
+++ b/drivers/stream_input/parser/hw_demux/aml_dmx.c
@@ -1310,7 +1310,7 @@ static irqreturn_t dmx_irq_handler(int irq_number, void *para)
 		if (pdts_status & (1 << VIDEO_PTS_READY)) {
 			video_pts = DMX_READ_REG(dmx->id, VIDEO_PTS_DEMUX);
 			video_pts_bit32 =
-				(status & (1 << VIDEO_PTS_BIT32)) ? 1 : 0;
+				(pdts_status & (1 << VIDEO_PTS_BIT32)) ? 1 : 0;
 			if (!first_video_pts
 			    || 0 > (int)(video_pts - first_video_pts))
 				first_video_pts = video_pts;
@@ -1319,7 +1319,7 @@ static irqreturn_t dmx_irq_handler(int irq_number, void *para)
 		if (pdts_status & (1 << AUDIO_PTS_READY)) {
 			audio_pts = DMX_READ_REG(dmx->id, AUDIO_PTS_DEMUX);
 			audio_pts_bit32 =
-				(status & (1 << AUDIO_PTS_BIT32)) ? 1 : 0;
+				(pdts_status & (1 << AUDIO_PTS_BIT32)) ? 1 : 0;
 			if (!first_audio_pts
 			    || 0 > (int)(audio_pts - first_audio_pts))
 				first_audio_pts = audio_pts;

commit a7727e5c0ac1a4f3299209ed0351a10a3e3138ca
Author: shihong.zheng <shihong.zheng@amlogic.com>
Date:   Fri Jun 14 10:30:51 2019 +0800

    vmpeg12: fix interlace vf type bug. [1/1]
    
    PD#SWPL-9780
    
    Problem:
    pq test display sawtooth.
    
    Solution:
    fix the second vf type error.
    
    Verify:
    x301
    
    Change-Id: I2c0ae1578ab5b319c9700a91edbe47a48b478fdd
    Signed-off-by: shihong.zheng <shihong.zheng@amlogic.com>

diff --git a/drivers/frame_provider/decoder/mpeg12/vmpeg12_multi.c b/drivers/frame_provider/decoder/mpeg12/vmpeg12_multi.c
index 668b134..731c645 100644
--- a/drivers/frame_provider/decoder/mpeg12/vmpeg12_multi.c
+++ b/drivers/frame_provider/decoder/mpeg12/vmpeg12_multi.c
@@ -1274,7 +1274,9 @@ static int prepare_display_buf(struct vdec_mpeg12_hw_s *hw,
 			vf->duration = vf->duration / field_num;
 			vf->duration_pulldown = (field_num == 3) ?
 				(vf->duration >> 1):0;
-			if (i == 1)
+			if (i > 0)
+				type = VIDTYPE_VIU_NV21;
+			if (i == 1) /* second field*/
 				type |= (first_field_type == VIDTYPE_INTERLACE_TOP) ?
 					VIDTYPE_INTERLACE_BOTTOM : VIDTYPE_INTERLACE_TOP;
 			else

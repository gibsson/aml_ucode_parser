commit 9e85071c703932eb07ca961dedf36dd4136d735b
Author: Peng Yixin <yixin.peng@amlogic.com>
Date:   Tue Sep 10 19:54:06 2019 +0800

    media_module: fixed mpeg2 playback stuck issue [1/1]
    
    PD#OTT-5167
    
    Problem:
    mpeg2 formate playback stuck when switch channel.
    
    Solution:
    Modify the condition to trigger decoder timeout to
    resolve this problem.
    
    Verify:
    U212
    
    Change-Id: I2642a90f9debd1dcc656581c0771c0f1d8a640d0
    Signed-off-by: Peng Yixin <yixin.peng@amlogic.com>

diff --git a/drivers/frame_provider/decoder/mpeg12/vmpeg12_multi.c b/drivers/frame_provider/decoder/mpeg12/vmpeg12_multi.c
index 36894e6..a6f25be 100644
--- a/drivers/frame_provider/decoder/mpeg12/vmpeg12_multi.c
+++ b/drivers/frame_provider/decoder/mpeg12/vmpeg12_multi.c
@@ -2094,8 +2094,6 @@ static void check_timer_func(unsigned long arg)
 	}
 
 	if (((debug_enable & PRINT_FLAG_TIMEOUT_STATUS) == 0) &&
-		(vdec_frame_based(vdec) ||
-		((u32)READ_VREG(VLD_MEM_VIFIFO_LEVEL) > 0x100)) &&
 		(timeout_val > 0) &&
 		(hw->start_process_time > 0) &&
 		((1000 * (jiffies - hw->start_process_time) / HZ)

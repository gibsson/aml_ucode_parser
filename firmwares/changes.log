commit a8d49fb8f0d0c91c02eb634ae383a1718fd2720d
Author: apollo.ling <apollo.ling@amlogic.com>
Date:   Wed Jul 24 10:41:42 2019 +0800

    secure: Buffer overflow in amstream driver (due to integer overflow) [1/1]
    
    PD#OTT-5057
    
    Problem:
    When convert 64bit to 32bit, truncation happens
    
    Solution:
    avoid the truncation
    
    Verify:
    u212
    
    Change-Id: I864171be1ffc918cd37e175e2a121a40fbe18dc4
    Signed-off-by: apollo.ling <apollo.ling@amlogic.com>

diff --git a/drivers/stream_input/parser/thread_rw.c b/drivers/stream_input/parser/thread_rw.c
index 6fe6cd8..dd147a7 100644
--- a/drivers/stream_input/parser/thread_rw.c
+++ b/drivers/stream_input/parser/thread_rw.c
@@ -151,7 +151,7 @@ static ssize_t threadrw_write_in(
 {
 	int ret = 0;
 	int off = 0;
-	int left = count;
+	size_t left = count;
 	int wait_num = 0;
 	unsigned long flags;
 

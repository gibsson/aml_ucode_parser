commit 2170702cfed7fa7a445d8db3e009addcebcbebf4
Author: Hui Zhang <hui.zhang@amlogic.com>
Date:   Fri Jan 25 09:30:28 2019 +0800

    media_module: decrease timeout value in amvdec_disable [1/1]
    
    PD#TV-2118
    
    Problem:
    timeout threshold too big to effect decoder start/stop KPI
    
    Solution:
    decrease timeout value in amvdec_disable improve decoder start/stop kpi
    
    Verify:
    x301
    
    Change-Id: Ie16a07cb2b56d60927c2d0f0b463b29118526ed4
    Signed-off-by: Hui Zhang <hui.zhang@amlogic.com>

diff --git a/drivers/frame_provider/decoder/utils/amvdec.c b/drivers/frame_provider/decoder/utils/amvdec.c
index e9c097e..1c90f46 100644
--- a/drivers/frame_provider/decoder/utils/amvdec.c
+++ b/drivers/frame_provider/decoder/utils/amvdec.c
@@ -81,7 +81,7 @@ static void amvdec_pg_enable(bool enable)
 	} else {
 
 		AMVDEC_CLK_GATE_OFF(AMRISC);
-		timeout = jiffies + HZ / 10;
+		timeout = jiffies + HZ / 100;
 
 		while (READ_VREG(MDEC_PIC_DC_STATUS) != 0) {
 			if (time_after(jiffies, timeout)) {
@@ -95,7 +95,7 @@ static void amvdec_pg_enable(bool enable)
 		}
 
 		AMVDEC_CLK_GATE_OFF(MDEC_CLK_PIC_DC);
-		timeout = jiffies + HZ / 10;
+		timeout = jiffies + HZ / 100;
 
 		while (READ_VREG(DBLK_STATUS) & 1) {
 			if (time_after(jiffies, timeout)) {
@@ -108,7 +108,7 @@ static void amvdec_pg_enable(bool enable)
 			}
 		}
 		AMVDEC_CLK_GATE_OFF(MDEC_CLK_DBLK);
-		timeout = jiffies + HZ / 10;
+		timeout = jiffies + HZ / 100;
 
 		while (READ_VREG(MC_STATUS0) & 1) {
 			if (time_after(jiffies, timeout)) {
@@ -121,7 +121,7 @@ static void amvdec_pg_enable(bool enable)
 			}
 		}
 		AMVDEC_CLK_GATE_OFF(MC_CLK);
-		timeout = jiffies + HZ / 10;
+		timeout = jiffies + HZ / 100;
 		while (READ_VREG(DCAC_DMA_CTRL) & 0x8000) {
 			if (time_after(jiffies, timeout))
 				break;

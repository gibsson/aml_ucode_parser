commit 0a8033b9919342253f7937ea550cf7fee06bec30
Author: Nanxin Qin <nanxin.qin@amlogic.com>
Date:   Wed May 22 14:19:32 2019 +0800

    decode: fixed issue of print info for v4l codec. [1/1]
    
    PD#SWPL-5314
    
    Problem:
    on non-v4l playback mode when use variable-len
    parameters to print, at this time v4l instance
    is null thus cause to panic.
    
    Solution:
    remove v4l inst from vari-len print.
    
    Verify:
    u212
    
    Change-Id: I36b9ff0732be606c4f73403508780f71671a2469
    Signed-off-by: Nanxin Qin <nanxin.qin@amlogic.com>

diff --git a/drivers/frame_provider/decoder/h265/vh265.c b/drivers/frame_provider/decoder/h265/vh265.c
index 25d8b56..2cf7257 100644
--- a/drivers/frame_provider/decoder/h265/vh265.c
+++ b/drivers/frame_provider/decoder/h265/vh265.c
@@ -2912,8 +2912,7 @@ static int cal_current_buf_size(struct hevc_state_s *hevc,
 		buf_stru->mc_buffer_size_u_v_h = mc_buffer_size_u_v_h;
 	}
 
-	hevc_print(hevc, PRINT_FLAG_V4L_DETAIL,"[%d] pic width: %d, pic height: %d, headr: %d, body: %d, size h: %d, size uvh: %d, buf size: %x\n",
-		((struct aml_vcodec_ctx *)(hevc->v4l2_ctx))->id,
+	hevc_print(hevc, PRINT_FLAG_V4L_DETAIL,"pic width: %d, pic height: %d, headr: %d, body: %d, size h: %d, size uvh: %d, buf size: %x\n",
 		pic_width, pic_height, losless_comp_header_size,
 		losless_comp_body_size, mc_buffer_size_h,
 		mc_buffer_size_u_v_h, buf_size);

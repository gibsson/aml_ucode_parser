commit 7a0ab397126602dafe1357273f62f00bd3b2cc19
Author: Hui Zhang <hui.zhang@amlogic.com>
Date:   Fri Dec 28 10:28:52 2018 +0800

    media_module: fix video flickering issue when avs seek on s805x [1/1]
    
    PD#SWPL-3033
    
    Problem:
    video flickering after avs seek on s805x, s905x no this issue.
    
    Solution:
    init vdec clock down to 333M when avs(original clk is 500M). it's enough
    performance for avs decoding up to 1080p60.
    
    Verify:
    Verified s805x
    
    Change-Id: Iffb8c74adb5a7ec0bfaa66dfa96ef56006a4e275
    Signed-off-by: Hui Zhang <hui.zhang@amlogic.com>

diff --git a/drivers/frame_provider/decoder/avs/avs.c b/drivers/frame_provider/decoder/avs/avs.c
index 23e1c85..b8bf8e4 100644
--- a/drivers/frame_provider/decoder/avs/avs.c
+++ b/drivers/frame_provider/decoder/avs/avs.c
@@ -1620,7 +1620,8 @@ static s32 vavs_init(void)
 	if (firmware_sel == 0)
 		INIT_WORK(&long_cabac_wd_work, long_cabac_do_work);
 #endif
-
+	vdec_source_changed(VFORMAT_AVS,
+					1920, 1080, 30);
 	amvdec_start();
 
 	stat |= STAT_VDEC_RUN;
